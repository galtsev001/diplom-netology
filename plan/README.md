## План и схема работы
___

+ [Цель](#цель)
+ [Ресурсы](#ресурсы)
+ [Схема](#схема)
+ [Предполагаемая схема для боевой инфраструктуры (с минимальным набором и отказоустоичивостью)](#предполагаемая-схема-для-боевой-инфраструктуры-с-минимальным-набором-и-отказоустоичивостью)
#### Цель
---
После налаживания всех требуемых этапов необходимо сформировать скрипт для автоматического выполнения всех описанных(созданных) шагов.
Выполнение операций будут производиться на компьютере с ОС Linux Ubuntu 22.04 LTS.
Необходимые инструменты для работы:
+ Terraform
+ Python3
+ Ansible
+ Kubectl
+ Helm
---

#### Ресурсы

Из-за ограниченности платного аккаунта будет реализована инфраструктура с минимальным набором ресурсов:

+ Будет установлена одна VPC + подсеть (192.168.10.0/24)
+ 3 VM (master + 2 Nodes)
+ ОС Ubuntu 20.04 LTS
+ CPU 2
+ ОЗУ 4 Гб
+ HDD 50Гб

#### Схема
---

В рамках дипломной работы будет реализована схема, указанная ниже:

<img style="margin-left: 2%; width: 96%" src="./img/1.png" alt="drawing" />

---
#### Предполагаемая схема для боевой инфраструктуры (с минимальным набором и отказоустоичивостью)

В дипломной работе будет создаваться 3 машины, что в принципе достаточно для экспериментов, но рискованно использовать в боевой инфраструктуре, т. к. есть множество точек отказов.
Также все сервисы создавались с типом `NodePort`. Предполагаю, что в проде необходимо использовать `Ingress-Controller` и сервисы с типом `Ingress` + использование доменных имен для сервисов.
Исходя из всего выше сказанного вижу такую схему:
+ 3 control panel (число должно быть нечетным для успешного «голосования»)
+ 2 ingress с использованием внешнего балансировщика и тп


<img style="margin-left: 15%; width: 70%" src="./img/2.png" alt="drawing" />



[На главную](../README.md)

